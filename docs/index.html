<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Applying to Graduate School in Ecology, Evolution, and Related Fields</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Applying to Graduate School in Ecology, Evolution, and Related Fields</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-graduate-school" id="toc-what-is-graduate-school" class="nav-link active" data-scroll-target="#what-is-graduate-school">What is graduate school?</a></li>
  <li><a href="#how-much-does-it-cost" id="toc-how-much-does-it-cost" class="nav-link" data-scroll-target="#how-much-does-it-cost">How much does it cost?</a></li>
  <li><a href="#what-do-you-want-to-do-when-you-graduate" id="toc-what-do-you-want-to-do-when-you-graduate" class="nav-link" data-scroll-target="#what-do-you-want-to-do-when-you-graduate">What do you want to do when you graduate?</a></li>
  <li><a href="#should-you-go" id="toc-should-you-go" class="nav-link" data-scroll-target="#should-you-go">Should you go?</a></li>
  <li><a href="#masters-or-phd" id="toc-masters-or-phd" class="nav-link" data-scroll-target="#masters-or-phd">Masters or PhD?</a></li>
  <li><a href="#what-is-the-timeline-for-applying" id="toc-what-is-the-timeline-for-applying" class="nav-link" data-scroll-target="#what-is-the-timeline-for-applying">What is the timeline for applying?</a></li>
  <li><a href="#what-do-applications-entail" id="toc-what-do-applications-entail" class="nav-link" data-scroll-target="#what-do-applications-entail">What do applications entail?</a></li>
  <li><a href="#how-to-pick-where-to-apply" id="toc-how-to-pick-where-to-apply" class="nav-link" data-scroll-target="#how-to-pick-where-to-apply">How to pick where to apply?</a></li>
  <li><a href="#how-to-pick-a-mentor" id="toc-how-to-pick-a-mentor" class="nav-link" data-scroll-target="#how-to-pick-a-mentor">How to pick a mentor?</a></li>
  <li><a href="#mental-health-in-grad-school" id="toc-mental-health-in-grad-school" class="nav-link" data-scroll-target="#mental-health-in-grad-school">Mental health in grad school</a></li>
  <li><a href="#location" id="toc-location" class="nav-link" data-scroll-target="#location">Location</a></li>
  <li><a href="#safety" id="toc-safety" class="nav-link" data-scroll-target="#safety">Safety</a></li>
  <li><a href="#visit-day" id="toc-visit-day" class="nav-link" data-scroll-target="#visit-day">Visit day</a></li>
  <li><a href="#do-i-need-to-take-the-gre" id="toc-do-i-need-to-take-the-gre" class="nav-link" data-scroll-target="#do-i-need-to-take-the-gre">Do I need to take the GRE?</a></li>
  <li><a href="#other-resources" id="toc-other-resources" class="nav-link" data-scroll-target="#other-resources">Other resources</a></li>
  <li><a href="#jargon" id="toc-jargon" class="nav-link" data-scroll-target="#jargon">Jargon</a></li>
  <li><a href="#corrections-additions" id="toc-corrections-additions" class="nav-link" data-scroll-target="#corrections-additions">Corrections / Additions?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Applying to Graduate School in Ecology, Evolution, and Related Fields</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li><strong>Come to our webinar: October 24, 2024, 11 am US Eastern, 8 am US Pacific, 15:00 UTC</strong></li>
<li>Zoom link: <a href="https://tiny.utk.edu/applyeeb" class="uri">https://tiny.utk.edu/applyeeb</a> (renders to <a href="https://tennessee.zoom.us/j/86340866401" class="uri">https://tennessee.zoom.us/j/86340866401</a>)</li>
<li><a href="meeting-86340866401.ics">ICS appointment</a> to add to your calendar</li>
<li><a href="ApplyingToEEBWebinarPoster.pdf">Poster PDF</a> to print or share with others</li>
<li>Presenters: <a href="https:://brianomeara.info">Brian O’Meara</a> and <a href="https://eeb.utk.edu/people/xingli-giam/">Xingli Giam</a>, both of the Dept. of Ecology &amp; Evolutionary Biology, University of Tennessee, Knoxville.</li>
</ul>
<p>This page has info on how to apply to ecology, evolutionary biology, behavior, and related fields for graduate school (note it will keep being added to in the run up to our Oct 24 webinar). Our focus is the US. The goal is to expose some of the “hidden curriculum” – some of the information that some people know (for example, if their parents are professors) but might not be known to those with different backgrounds. Note our potential conflicts of interest as faculty who mentor grad students and also serve on an admissions committee: we could inadvertently be painting a too positive picture of the process. There can also be substantial differences across fields: some of this could apply to a PhD program in history, for example, but some might be terrible. We also come with particular backgrounds, perspectives, and experiences: they might not match your experience or predict how things will work for you. Searching for “hidden curriculum” and “graduate school” will bring up many more resources – we undoubtedly have missed some major issues. We also describe things as we think they are, not as we think they should be.</p>
<section id="what-is-graduate-school" class="level2">
<h2 class="anchored" data-anchor-id="what-is-graduate-school">What is graduate school?</h2>
<p>Graduate school is where you study for a Masters or PhD. In ecology and evolutionary biology (EEB), a Masters can be coursework-based (like most bachelors degrees: take this many classes, have a high enough average, get a degree) or research-based (like a PhD, but shorter and with less research). A PhD is a research degree: you do a lot of research, write a dissertation, and defend it. You also take classes, but the focus is on research. A Masters degree typically takes 2-3 years, a PhD 5-6 years. Sometimes people get a Masters degree while on the way to a PhD; sometimes they get a Masters at one institution and a PhD at another; sometimes they go directly from undergrad to a PhD program.</p>
<p>Success in undergrad is generally getting good grades. Success in grad school in this field is largely about getting good research done and published. Failing classes is still bad, but whether you got an A or B- in stochastic processes will have little effect on your future career. This can require a shift in thinking.</p>
</section>
<section id="how-much-does-it-cost" class="level2">
<h2 class="anchored" data-anchor-id="how-much-does-it-cost">How much does it cost?</h2>
<p>Coursework-based Masters, especially if the target audience is professionals who need a degree for professional development, will usually charge tuition. Research-based Masters, and PhD programs, <strong>actually pay you to go</strong>. Technically, this is usually pay for teaching (as a teaching assistant, or “TA” or “GTA”) and/or for doing funded research (a research assistant, an “RA” or “GRA” [not “RA” as in “resident advisor”, a person who helps students staying in dorms]). This usually covers tuition, a modest stipend, and enrolls you in a healthcare plan. It may or may not cover fees, which can sometimes be substantial. <a href="PhDStipends.com">https://www.phdstipends.com</a> has crowd-sourced information on stipends PhD students a paid in different schools and programs so you can get a sense of the range of values; most programs will also put their base stipend on their websites. Note that the stipends on PhDStipends.com might include bonus fellowships, or might be for students on research assistantships where the base pay is higher (because that is how the grant budget is written) – you might get a different amount. Stipends in EEB might be as low as $20,000 but go as high as $45,000 or more. However, cost of living can vary dramatically, as well: a moderate stipend in one place might allow grad students to buy a house, while in another a higher stipend might still require multiple roommates in a small apartment. One useful website is <a href="https://livingwage.mit.edu" class="uri">https://livingwage.mit.edu</a>, which calculates living wage in various places: you can multiply the hourly living wage by 2080 to get the annual living wage. For example, as of when our website was last updated, the living wage in Cambridge, MA, was $30.04 (so annual cost of $62,483) while the county containing Oxford, MS was $21.95 (annual cost of $45,656). Thus, a $50K stipend in Mississippi might be more comfortable than a $60K stipend in Massachusetts (though stipends will generally be far lower in EEB).</p>
<p>Healthcare in the US is also a varied system. Eyes and dental care are treated separately from the rest of the body (and often are not covered by default), having a dependent spouse and/or children are additional costs, and there may be different deductibles and copays for treatment. You should be able to get details of what is included and costs when you get an offer of admission.</p>
<p>Note that in most cases, the offer of admission and offer of support (as a TA and RA) come in together, but you could in most cases choose to separate them (though some programs do require teaching a semester or two). For example, if you happen to be wealthy, you could choose to pay your own tuition and not take a TA position. This is very rare.</p>
<p>Some institutions charge application fees to even apply. Some programs allow potential applicants to request a waiver; if not, some professors may have funds in their budget that will ccover this. One important lesson in academia: there are sometimes small pots of money around to handle issues, but they can often only be found by asking.</p>
</section>
<section id="what-do-you-want-to-do-when-you-graduate" class="level2">
<h2 class="anchored" data-anchor-id="what-do-you-want-to-do-when-you-graduate">What do you want to do when you graduate?</h2>
<p>The faculty in EEB programs have careers as faculty in EEB programs (though some may have had other careers earlier). They are good at that (every person with a faculty job has been selected from dozens to many hundreds of applicants for that position, and there are then further hurdles like tenure). Historically, a priority has been to train students as potential future faculty. There are not enough faculty jobs for all students who want them, so there is increasing awareness of so-called “alternative” careers (look for the hashtag #altac on social media). There are also very real concerns about a “leaky pipeline” – the factors that push people from historically excluded groups out of the track leading to academic faculty jobs (racism, sexism, ableism, and much more, including structural factors that reinforce these).</p>
<p>However, for many students, jobs other than faculty ones are not the reluctantly accepted viable alternative – they are the <em>goal</em>. Degrees in EEB can lead to work at nonprofits protecting the environment, government agencies conserving natural resources, helping companies reduce their environmental impact, science communications, and much more.</p>
<p>It is important to consider what you want to do when you graduate, as this affects which mentors and programs you prioritize as well as how you work in grad school. If you want to be a faculty member, a program that focuses on training for this could be a good fit. If you want to work at a government agency, it could be important to take courses that the agency wants to see on a transcript. Will your mentor support you in your career goal? What if your career goal changes?</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://imgs.xkcd.com/comics/survivorship_bias.png" class="img-fluid figure-img" alt="XKCD cartoon showing a person on stage surrounded by bags of money saying 'Never stop buying lottery tickets, no matter what anyone tells you. I failed again and again, but I never gave up. I took extra jobs and poured the money into tickets. And here I am, proof that if you put in the time, it pays off!' The caption says 'Every inspirational speech by someone successful should have to start with a disclaimer about survivorship bias'."></p>
<figcaption>Tenured faculty giving advice on getting a tenured job (repurposing of an XKCD by Randall Munroe)</figcaption>
</figure>
</div>
</section>
<section id="should-you-go" class="level2">
<h2 class="anchored" data-anchor-id="should-you-go">Should you go?</h2>
<p>Grad school in EEB might be far cheaper than law school, med school, vet school, or business school, but it is still a substantial investment of time and forestalls pursuing other opportunities (and there can be a concern about being “overcredentialed” for some jobs). It is important to start with a goal – it could be a particular kind of job, to dive deep into a biological question, or to get some particular skills. It is often unwise for it to be a default option.</p>
<p>The rest of this page has lots of pros and cons discussed, so I’m not going to embed them here. One thing to consider not mentioned explicitly elsewhere is family support. Can and will your partner move to where you are considering grad school? Will your broader family give you grief for “still being a student” a decade after people you went to high school with are a decade into their careers, and if so, does this matter to you? Grad school itself will often be stressful (important exams, papers and grants getting rejected, career anxiety, and more), and having a supportive family can be a big help. Letting them know likely timelines can help manage expectations – for example, for those wanting to go into a faculty position, it can be good for their families to know up front that this means multiple years in grad school, then one or two multiple year postdocs (typically somewhere else), and then getting a job at yet another place – early 30s for a “first job” is common. (I personally think this system is bad and drives out many people who don’t have geographic flexibility and resources to handle many years of low and uncertain income, but that is different from saying that this is not a frequent path).</p>
</section>
<section id="masters-or-phd" class="level2">
<h2 class="anchored" data-anchor-id="masters-or-phd">Masters or PhD?</h2>
<ul>
<li>First, for your career goals, what do you need? A PhD is essential for some careers, an actual impediment for others.</li>
<li>A Masters is coursework, one or more papers you lead, and 2-3 years; a PhD is coursework, 3+ papers you lead, and 5-6 years.</li>
<li>You do not need to do a Masters before a PhD. Among a pool of applicants for a PhD, it makes you more competitive (“look, they can do research and succeed in grad school”) but it is not necessary in most programs. If you know clearly what you want to do, going directly into a PhD can be a good choice.</li>
<li>If you are not sure what you want, or if you are switching to an area different from your past experience, a Masters can be important – learn skills and the field before a half decade commitment.</li>
<li>There are often ways to transition from a Masters to a PhD, but this is not guaranteed. There can also be ways to transition from a PhD to a Masters – if you decide your goals are better met by a Masters, you want to leave the program for a different mentor or area, and other reasons. An important thing to note: almost no one will know whether you started seeking one degree and ended up with another. In theory they might be able to look at archived versions of a web page, but few have time for that – they’re just going to see on your CV when you got each degree, maybe (depending on how you choose to format it) when you started each degree.</li>
</ul>
</section>
<section id="what-is-the-timeline-for-applying" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-timeline-for-applying">What is the timeline for applying?</h2>
<p>Most programs start in the US Fall semester or quarter (which can be as early as August). The process to get into grad school starts nearly a full year before this:</p>
<ul>
<li>September-October a year before the start: start contacting potential mentors. Also look to see if things like the GRE are required.</li>
<li>By October: consider applying for the <a href="https://www.nsfgrfp.org">NSF Graduate Research Fellowship Program</a> (GRFP). A two page research proposal, three page personal statement, letters of rec and some similar materials, and you have a <strong>chance to get three years of funding for grad school</strong>. Check for the deadlines (they are very strict) and eligibility (you can only apply twice, and only if you are a US citizen or permanent resident).</li>
<li>By December (but check to make sure no earlier deadlines): Formally apply to programs. Make sure you have strong letters of rec lined up.</li>
<li>January-February: Interviews. Some programs will fly you out (they pay, usually) to visit the campus and meet with faculty and students, some will do this virtually, and some will not do this at all. These visits can be very informative; just remember that they are evaluating you while you are evaluating them. Are you curious? Will you work hard?</li>
<li>January-March: Offers of admission. You might get an unofficial offer, but check to see what your official offer letter includes (often details of funding).</li>
<li>April 15: Deadline to respond to offers of financial support, for all universities signed onto the <a href="https://cgsnet.org/resources/for-current-prospective-graduate-students/april-15-resolution">April 15 Resolution</a>. This keeps universities from using high pressure tactics to get you to commit before other offers come in. That said, if you get an offer before this you definitely will not accept (i.e., if you already have a better offer from another school, but are waiting to hear from more), it is kind to let the school know so they can offer the spot to someone else. If a university is giving you a deadline before April 15, that is a warning sign about that institution.</li>
<li>April-August: New offers might still go out as people decline offers, perhaps other students graduate earlier than expected, etc. So if you have not gotten an offer by mid-April, it still might be possible, though less likely.</li>
</ul>
<p>Watch for when your program expects you to start: they might have training before the semester starts. Note that in the US rentals typically require first and last month rent, plus a security deposit before you can move in; often universities will not start paying you until two or four weeks after you begin working (but fees, including for parking, might be due on the first day of the semester).</p>
</section>
<section id="what-do-applications-entail" class="level2">
<h2 class="anchored" data-anchor-id="what-do-applications-entail">What do applications entail?</h2>
<p>The formal application will usually include:</p>
<ul>
<li><strong>Transcripts</strong>: You will need to get these from your undergraduate institution. You might also need to get them from any other institutions you attended.</li>
<li><strong>Letters of recommendation</strong>: These can help give context for your application. Note that different cultures and careers have different norms for letters – an admissions committee should take these into account. Applicants often have a choice on whether to waive their right to see the letters. It is perceived that letters are more honest if the applicant waives this right, and most applicants choose to waive it. A key thing is to make sure your letter writers know you well and can write a strong letter. Especially valued are ones that can speak to your research abilities and drive.</li>
<li><strong>Essays</strong>: These will often be a personal statement and research statement. The personal statement may include why you want to go to grad school and your research experiences. It can be useful to mention not just what you did but why you did it and what you learned from it. Good programs should recognize that opportunity to do research is not uniform for everyone: just because you had to get a paying job over the summer rather than volunteer or even pay for a research experience somewhere does not mean you are not a good candidate. A research statement is what you want to research, why, and why at your target institution. This should be tailored for each institution. Make sure to double check that you have the right institution and mentor in each essay: you should be applying to multiple programs, and everyone knows it, but it’s still a bad look to have a mismatch between the essay and where you’re applying – no one wants to feel like they are a backup. Some institutions may have a diversity statement. Think of this as a place to highlight verbs: what concrete steps have you taken to make the field more inclusive, to support your peers, to make your community better? What will you do in the future? How and why has your lived experience informed you of problems to address? Just like your research statement is not “I love dophins” but why and how you will study dolphin phylogeography, which addresses a core institutional goal of doing meaningful research, the diversity statement is not a statement of beliefs but examples of past and planned actions that show how you will contribute to the institution’s goals in this area.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="potato.jpg" class="img-fluid figure-img" alt="Image of Marge Simpson, a cartoon character from the TV show *The Simpsons*, saying 'I just think they're neat' while holding a potato in her hand."></p>
<figcaption>“I just think they’re neat” speaks to the deepest loves of many biologists, but research statements should cover potential projects, including what you hope to discover. Image of Marge Simpson from the TV show <em>The Simpsons</em>.</figcaption>
</figure>
</div>
</section>
<section id="how-to-pick-where-to-apply" class="level2">
<h2 class="anchored" data-anchor-id="how-to-pick-where-to-apply">How to pick where to apply?</h2>
<p>There is a lot of pressure to rank colleges for undergraduate programs: there are companies that make a lot of their money comparing different colleges, and there have even been <a href="https://www.cnn.com/2022/09/22/opinions/columbia-ranking-inaccurate-data-thaddeus/index.html">allegations</a> of cheating by colleges. It is a big deal if a college drops or rises multiple places on the <em>US News</em> ranking, for example. Going to a “top” college has a cachet that draws students and arguably has a major impact on future career options.</p>
<p>Some groups do attempt to rank graduate programs in the same way, but they have much less impact. For one thing, it is hard to compare programs: how does a general biology program with faculty ranging from cell biology to pesticide development to fish anatomy compare to a specialized systematic botany program? For another, the mentor matters a lot more to peers than the college. For undergrad, you might hear “I studied at U. of Foo” but for grad school you are more likely to hear “My advisor was Dr.&nbsp;Smith.” Small sample size can also be a big issue: a set of three or four faculty in an area can make that school a “powerhouse” in that area – when two move away, the program changes a lot.</p>
<p><strong>So the first question to ask is, “Who do I want as an advisor?”</strong> <em>Then</em> see if the program, location, and more can work for you.</p>
<p>In EEB it’s most common to first identify one or two mentors in a program and join their lab directly (while still being admitted to a program overall). Some programs, especially more general biology programs, have rotations where students work for a substantial period of time in different labs before an advisor is identified. In either case, it is still good to reach out to potential mentors early (and try them again if at first you do not get a reply: often they are in the field or otherwise inaccessible).</p>
</section>
<section id="how-to-pick-a-mentor" class="level2">
<h2 class="anchored" data-anchor-id="how-to-pick-a-mentor">How to pick a mentor?</h2>
<p>Some things to consider:</p>
<ul>
<li><strong>Research interests</strong>: Are they doing the sort of work you want to do? Are they doing it recently? Some people shift research interests, go into administrative work, and similar, so their current focus might not be what you need. <a href="https://openalex.org" class="uri">https://openalex.org</a> and <a href="https://scholar.google.com/" class="uri">https://scholar.google.com/</a> can be useful for finding interesting people.</li>
<li><strong>Lab outcomes</strong>: Do their students get positions? Are they the sort of position you would want? Do their students graduate, drop out, or flee the lab? (<a href="https://web.archive.org" class="uri">https://web.archive.org</a> can be good for looking at older versions of lab websites: who was on the “People” page but isn’t still there or on the “Alumni” page?). You should reach out to current and past students.</li>
<li><strong>Lab size and career stage</strong>: Do you want to enter into a productive machine with a lot of postdocs and students who churn out papers but possibly less attention per student, or a small lab where there might be more attention but fewer projects to plug into? Is the professor going to be around for the duration of your degree or will they retire or move?</li>
<li><strong>Are they humane?</strong>: There is a lot of misconduct in academia. Power dynamics can be extreme, which can create an environment where this can happen and be underreported or be unaddressed when reported. You might find public information on misconduct (the <a href="https://academic-sexual-misconduct-database.org" class="uri">https://academic-sexual-misconduct-database.org</a> can be useful for this), but most is not public. Try to get a sense of this from your interactions with the potential mentors, their current and past lab personnel, other people in their department, and trusted people in the field. Not every whisper is true, but many are. Make sure not to endanger anyone who gives you information: “I heard from one of your students that…” puts that student at risk.</li>
<li><strong>Money and other resources</strong>: Do they have funding? This will be on their CV; you can also get information from <a href="https://www.nsf.gov/awardsearch/" class="uri">https://www.nsf.gov/awardsearch/</a> (just for NSF grants; they may have money from other sources). How do their students get funding for travel, for equipment, for fieldwork? Funding can be especially important in programs where a faculty member is expected to fund their students at least part of the time with research funds as RAs: is it a safe bet for you to assume they will bring in enough to cover you?</li>
</ul>
</section>
<section id="mental-health-in-grad-school" class="level2">
<h2 class="anchored" data-anchor-id="mental-health-in-grad-school">Mental health in grad school</h2>
<p><a href="https://www.nature.com/articles/d41586-024-03136-4">Studies</a> show grad school can be terrible for mental health. This does not mean people facing mental health challenges should avoid grad school, but it does mean that everyone should be aware of risks and consider strategies to mitigate them. If people given a certain treatment had depression five times higher than the general population, they should know this before starting the treatment: grad school arguably has this effect (42-48% of Berkeley STEM grad students were depressed in a <a href="https://www.science.org/content/article/depression-afflicts-almost-half-stem-graduate-students-uc-berkeley">study</a>, while only <a href="https://www.nimh.nih.gov/health/statistics/major-depression">8.3% of US adults in general</a>). Programs and mentors should be addressing these, as well – some are, others not so much. Does the program and mentor show awareness of this? Are there good resources? Do current students feel supported?</p>
<p>Given persistent (but improving) stigma associated with mental health, take care in when and how to get information on this. For example, there is less risk (but not no risk) in asking questions about this or other things that might receive pushback after you have an offer of admission.</p>
</section>
<section id="location" class="level2">
<h2 class="anchored" data-anchor-id="location">Location</h2>
<p>Grad school is a place you will physically live in for multiple years. You, and any loved ones coming with you, have to be able to live there and be reasonably happy. Part of this is climate: if you hate cold, certain parts of the US might not be fun for you. Housing costs, availability of childcare, public transportation, access to your favorite activities, and more can all be important.</p>
<p>One thing that people might not expect is the heterogeneity of laws and customs in the US. Some laws are federal; some are state; some are local; and some policies are set by your institution. As a trivial example, there is no US federal law on whether someone can keep a ferret as a pet (but there might be a law about whether it can be brought onboard a commercial aircraft, or other limits). Some states have laws allowing them, some (like California) forbid them. In the states that do allow them, some cities could prohibit them: no ferrets in New York City but they are ok elsewhere in the state (info from <a href="https://worldpopulationreview.com/state-rankings/ferrets-legal-states">here</a>). Even if the city allows them, your college might or might not allow pets in student offices. So if you really want to keep Mr.&nbsp;Fuzzysnake Magicpants on your desk, you have to look at all these different levels to decide if this is a place where you can. And note that any of these policies can change in the future.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ferretbueller.png" class="img-fluid figure-img" alt="Image of the United States with state colors based on legality of having a ferret. Thirty states have no regulations, 18 have minor regulations, and 3 (California, Hawaii, and Washington, DC [not quite a state]) have bans."></p>
<figcaption>Ferret legality by state, from <a href="https://worldpopulationreview.com/state-rankings/ferrets-legal-states" class="uri">https://worldpopulationreview.com/state-rankings/ferrets-legal-states</a></figcaption>
</figure>
</div>
<p>There are many more serious issues that can vary dramatically by location in this way. There are heterogeneous policies on weapons, reproductive healthcare access, gender-affirming care, legality of certain drugs, rules on protests, and more. Some people don’t care about these issues; for others they might be critical (and in different directions depending on the individual). Consider what will be important to you and your loved ones when comparing locations. Remember the different levels of policy: an institution’s leadership might strongly favor one particular policy, but that might be moot if a law changes at a higher level. Even if your potential advisor is very aligned with your priorities, they may not be in control of the policies that affect you and cannot make any promises. Also note that institutional or higher level policies may also drive what is covered in the employee healthcare plan.</p>
<p>If there are particular issues important to you, there are generally national advocacy groups on all sides of the issues that typically publish guides to state laws and policies. Looking for local news articles about the area and your issue can also be informative.</p>
</section>
<section id="safety" class="level2">
<h2 class="anchored" data-anchor-id="safety">Safety</h2>
<p>There are many dimensions of safety. There is the obvious physical lab safety: is there a culture of safety? Do fume hoods work, does the roof leak onto equipment, are hazards identified? However, especially in ecology and evolution, fieldwork can be even more dangerous. See this <a href="https://strangebehaviors.wordpress.com/2011/01/14/the-wall-of-the-dead/">list</a> maintained by Richard Conniff, ranging from 1644 up to the present day. Some risks are common to all people working in the field (car accidents, for example), some may vary based on research focus (handling venomous snakes), but some vary in risk based on individual identities or others’ perceptions of their identities (see <a href="https://doi.org/10.1038/s41559-020-01328-5">Demery &amp; Pipkin (2020)</a>). Is the potential mentor aware of this? Is the program? The US National Science Foundation, which funds a lot of EEB research, now requires field safety plans so people may be more aware of this, though perhaps not all axes.</p>
<p>Similarly, there can be safety issues due to verbal or physical assault in the community where you will live while not in the field. There can be general dangers (such as whether bicycling is safe on the local roads) but also ones where individuals can be targeted based on their identities. Peers may be able to give you a sense of this. While faculty may also experience these, note that their day-to-day lives can also be very different from those of most (but not all) grad students: being at work 9-5 and then driving home to a house in suburbia is different from working from noon until 8 pm and then walking back to an apartment (not that either is free from risk).</p>
</section>
<section id="visit-day" class="level2">
<h2 class="anchored" data-anchor-id="visit-day">Visit day</h2>
<p>If all goes well, you will be invited to a visit day (at many programs, though some have limited budgets and might have limits (perhaps not paying for airfare)). You are being evaluated by most people you meet. This is also a time for you to evaluate the program and lab climate. Good programs will also consider your needs on a visit: food allergies, time to nurse, etc.</p>
<p>Visit days normally include time to meet potential mentors, meeting other faculty, some info on the program as a whole, a tour of campus or the local area, social events, and time to meet current students. The time to meet current students is particularly valuable: how often do we have a chance to interview potential future versions of us to see if they are happy with their choices? The bulk of most visit days is meeting with individual faculty. Be ready to make a good first impression with a short synopsis about you and your research again, and again, and again. Also be ready with questions: scientists like questions, and they also tend to use this as conversational filler (“So… do you have any questions for me?”). Potential topics can include their current research (especially if you have done homework and know something about it), general questions about how the program works, questions about the area, and so forth. Asking personal questions (about family, politics, religion) is not typically appropriate.</p>
<p>One thing that comes up at faculty searches, and might also at visit days, are “illegal questions.” They may or may not formally be illegal, but they are generally considered inappropriate. These include questions about one’s spouse, children, and more. Applicants should not have to deal with them; odds are that someone will ask, so it is good to consider how to handle this.</p>
<p>A stressor can be what to wear. EEB programs often present as “we don’t care what you wear, we’re past such things” – but showing up in a full suit may get negative reactions. Cultures can vary based on the region, how the program is set up, and more. Photos of seminars or events at the program may help give a sense of the range of attire commonly worn.</p>
<p>Another issue can be alcohol: not everyone drinks for a variety of reasons (religion, health, pregnancy, individual choice, recovery, and more), none of which should require disclosure. In a well-run program, candidates should feel no pressure to drink, and there should be many non-alcoholic options at all events. If this isn’t the case, it can be a warning sign about the program’s culture. If you do drink, remember that this is essentially a day or two long job interview.</p>
</section>
<section id="do-i-need-to-take-the-gre" class="level2">
<h2 class="anchored" data-anchor-id="do-i-need-to-take-the-gre">Do I need to take the GRE?</h2>
<p>The GRE is a standardized test that was once a common requirement for applicants to graduate school. It tests for <a href="https://www.ets.org/gre/test-takers/general-test/prepare/content/quantitative-reasoning.html">high school level math and stats</a>, including understanding of even and odd numbers, perimeter of shapes, reading bar charts, and more; <a href="https://www.ets.org/gre/test-takers/general-test/prepare/content/verbal-reasoning.html">verbal reasoning</a> including reading comprehension and completing text; and <a href="https://www.ets.org/gre/test-takers/general-test/prepare/content/analytical-writing.html">analytical writing</a>. It is over $200, but some student in the US can get a discount to $100 (I could not find out information on international fee reductions). There are also subject tests.</p>
<p>Most programs have eliminated it in admissions: see <a href="https://www.science.org/content/article/gre-exit-gains-momentum-ph-d-programs-drop-exam-requirement-amid-pandemic">Langin (2022)</a>. Its expense serves as a barrier to many students, and the information it purports to predict, grades in grad school, are not generally a major factor in research-based graduate programs. However, do check if the programs you are considering do still require it and whether, knowing this, you still want to apply.</p>
</section>
<section id="other-resources" class="level2">
<h2 class="anchored" data-anchor-id="other-resources">Other resources</h2>
<p>Here are some other resources. Note that as one moves further from ecology and evolution, the greater the chance that some of the advice does not apply. For example, Karen Kelsky’s book, <em><a href="https://theprofessorisin.com/buy-the-book/">The Professor Is In</a></em>, has good advice on getting jobs after grad school, but includes information on how job interviews in hotel rooms work. That might be a thing in some fields (hopefully it has changed) but it is definitely not a thing in EEB (and if someone invites you to their room to talk about an opportunity during an ecology and evolution conference, that is a major red flag – report it to a conference safety officer [and if the conference does not have one, go to better conferences]).</p>
<ul>
<li>Carsen et al.&nbsp;(2021) “Advice on Applying to Graduate School in Ecology and Evolutionary Biology: How to Prepare and a Step-By-Step Guide” <em>Bulletin of the Ecological Society of America</em> 102(4): e01917 <a href="https://doi.org/10.1002/bes2.1917" class="uri">https://doi.org/10.1002/bes2.1917</a></li>
<li>Estien et al.&nbsp;(2023) “Demystifying the Graduate School Application Process” <em>Bulletin of the Ecological Society of America</em> 104(1): e02029 <a href="https://doi.org/10.1002/bes2.2029" class="uri">https://doi.org/10.1002/bes2.2029</a></li>
<li>Hampton and Labou (2017) “Careers in ecology: a fine-scale investigation of national data from the U.S. Survey of Doctorate Recipients” <em>Ecosphere</em> 8(12): e02031 <a href="https://doi.org/10.1002/ecs2.2031" class="uri">https://doi.org/10.1002/ecs2.2031</a></li>
<li>Botanical Society of America webinar on grad school: <a href="https://www.youtube.com/watch?v=la0z9yVu6n8" class="uri">https://www.youtube.com/watch?v=la0z9yVu6n8</a></li>
<li>NSF GRFP: <a href="https://www.nsfgrfp.org" class="uri">https://www.nsfgrfp.org</a></li>
<li>German Lab (UC Irvine) advice on applyng to grad school: <a href="https://german.bio.uci.edu/images/PDF/Application_Guide.pdf" class="uri">https://german.bio.uci.edu/images/PDF/Application_Guide.pdf</a></li>
<li>Casey Dunn (Yale) advice on applying to grad school: <a href="https://medium.com/@caseywdunn/applying-to-biology-phd-programs-58abece3284a" class="uri">https://medium.com/@caseywdunn/applying-to-biology-phd-programs-58abece3284a</a></li>
</ul>
</section>
<section id="jargon" class="level2">
<h2 class="anchored" data-anchor-id="jargon">Jargon</h2>
<p>As used within ecology and evolution in the United States</p>
<ul>
<li>ABD: All But Dissertation: A student who has completed all requirements for a PhD except the dissertation.</li>
<li>ADA: Americans with Disabilities Act. US law that prohibits discrimination against people with disabilities.</li>
<li>Assistant/Associate/Full/Emeritus Professor: At most institutions, the ranks of faculty. Assistant professors are usually tenure-track (a six year evaluation period, at the end of which someone either gets tenure or is fired), associate professors have tenure, full professors have been promoted to the highest rank, and emeritus professors are retired but retain some privileges. A few colleges use these terms differently.</li>
<li>Defense: The final oral examination of a PhD dissertation. It often includes a public presentation followed by more intense questioning by a dissertation committee.</li>
<li>DEI: Diversity, Equity, and Inclusion. Used similarly to JEDI (Justice, Equity, Diversity, and Inclusion) in other countries.</li>
<li>FERPA: US law that protects student records.</li>
<li>GRA: Graduate Research Assistant. Grad student paid to do research.</li>
<li>GRFP: National Science Foundation program that funds graduate students. <a href="https://www.nsfgrfp.org" class="uri">https://www.nsfgrfp.org</a></li>
<li>GTA: Graduate Teaching Assistant. Grad student to be a teaching assistant.</li>
<li>International: A student from outside the US.</li>
<li>LGBTQIA: Abbreviation for Lesbian, Gay, Bisexual, Transgender, Queer, Intersex, and Asexual. Often expanded to LGBTQIA+ to include other identities, sometimes shortened to LGBT in older literature.</li>
<li>NIH: National Institutes of Health. A major funder of health-related research in the US.</li>
<li>NSF: National Science Foundation. A major funder of basic research in the US.</li>
<li>Qualifying exam: A set of exams or other requirements that must be passed before a student can be admitted to PhD candidacy. Also called a comprehensive exam or prelim. This often includes a written and oral component; it is among the most stressful parts of grad school.</li>
<li>Race: A social construct with substantial real world effects (for example, many US colleges would not enroll Black students until the 1960s; the first African American to get a PhD in evolution in the US only got it in 1988 <a href="https://doi.org/10.1186/s12052-019-0110-5">Graves (2019)</a>). See how the US NSF defined racial and ethnic categories in 2023 <a href="https://ncses.nsf.gov/pubs/nsf23315/assets/report/sidebars/nsf23315-defining-race-and-ethnicity.pdf">here</a>; note that the particular set used by NSF are by no means universally accepted.</li>
<li>Title VII: US law that prohibits discrimination in employment based on race, color, religion, sex, and national origin.</li>
<li>Title IX: A US law that prohibits sex-based discrimination in educational programs receiving US federal funding (which is nearly all programs). Its two most commonly encountered effects are support for equitable access to sports and procedures for handling sexual harassment and assault. “Report this to Title IX” is a common phrase in the US for reporting sexual harassment or assault to the university office that handles these. Some institutions will publish transparency reports on number and disposition of Title IX reports (anonymized, but you can see how many are being reported and what happens).</li>
<li>Tenure: An indefinite appointment (rather than a fixed duration contract) that can be terminated only for cause or under extraordinary circumstances (like closure of a program). Its goal is to allow faculty safety in pursuing controversial research and teaching. Sexual harassment and other misconduct can be cause for termination of tenure; doing research that suggests commonly accepted findings in the field are inaccurate is (ideally) protected by tenure.</li>
</ul>
</section>
<section id="corrections-additions" class="level2">
<h2 class="anchored" data-anchor-id="corrections-additions">Corrections / Additions?</h2>
<p>If there’s something you disagree with on this page, or something missing, please reach out!</p>
<p>Email: <a href="mailto:omeara.brian@gmail.com" class="uri">mailto:omeara.brian@gmail.com</a></p>
<p>Pull request: <a href="https://github.com/bomeara/applyingtoeeb" class="uri">https://github.com/bomeara/applyingtoeeb</a></p>
<p>Anonymous feedback: <a href="https://forms.gle/N6p2XHH2CSAnxNTc7" class="uri">https://forms.gle/N6p2XHH2CSAnxNTc7</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>